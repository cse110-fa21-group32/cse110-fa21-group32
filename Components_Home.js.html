<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Components/Home.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="AddRecipePage.html">AddRecipePage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CookingMode.html">CookingMode</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="FavRecipesPage.html">FavRecipesPage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="GroceryPage.html">GroceryPage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="HomePage.html">HomePage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ProfilePage.html">ProfilePage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="RecipePage.html">RecipePage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Router.html">Router</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Router.html#addPage">addPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Router.html#addPage">addPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Router.html#navigate">navigate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Router.html#navigate">navigate</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SearchBar.html">SearchBar</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SearchResultsPage.html">SearchResultsPage</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="UpdateRecipePage.html">UpdateRecipePage</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addMainPages">addMainPages</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addNewIngredient">addNewIngredient</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addPage">addPage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bindNavIcons">bindNavIcons</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bindPopstate">bindPopstate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#clearInputError">clearInputError</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createAccount">createAccount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#createRecipeCards">createRecipeCards</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#deleteIngredient">deleteIngredient</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#deleteUser">deleteUser</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#displayIngredients">displayIngredients</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#fetchRecipe">fetchRecipe</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#GET">GET</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getCookTime">getCookTime</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getEmail">getEmail</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getImage">getImage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getRecipes">getRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getServings">getServings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getSummary">getSummary</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getTitle">getTitle</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#helloWorld">helloWorld</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#init">init</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#loadGroceryList">loadGroceryList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#login">login</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#logout">logout</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#POST">POST</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#saveIngredient">saveIngredient</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#searchRandomRecipes">searchRandomRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#searchRecipes">searchRecipes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setFormMessage">setFormMessage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setInputError">setInputError</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#setNewInfo">setNewInfo</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#timeConvert">timeConvert</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Components/Home.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// HomePage.js

// IMPORTS
import { router } from '../scripts/main.js';
import { GET /*, POST */ } from '../scripts/request.js';

/**
 * Class: HomePage
 * Starting page after loggin in. Shows some basic user info
 * and some of the favorite/recent recipes.
 */
class HomePage extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });

    // Create styles and root element
    const styles = document.createElement('style');
    const article = document.createElement('article');

    // Fill in styles and root element
    styles.innerHTML = `
    *{
      clear: both;
      font-family: "IBM Plex Sans", sans-serif;
      font-weight: normal;
      font-style: normal;
      font-size: 10px;
    }
    filling {
      margin-bottom: 0 !important;
      background-color: #ca676a;
      background-size: cover;
      padding: 23.5px;
      color: white;
      margin-top: 0;
    }
    .recipe-grid {
      margin-left: 5%;
      display: grid;
      grid-template-columns: auto auto auto;
      grid-column-gap: 3%;
      grid-row-gap: 3%;
      margin-right: 5%;
    }

    button {
      background-color: white;
      border-radius: 9px;
      border: 1.5px solid #ca676a;
      text-align: center;
      min-width: 8%;
      height: 16pt;
    }
    .css-wrap {
      margin-left: 5%;
      margin-bottom: 16pt;
      margin-right: 5%;
    }

    .card-body{
      background-color: #324A54;
      color: white;
      text-align: center;
      font-weight: lighter;
      font-style: normal;
    }

    .card-title{
      font-weight: lighter;
      font-style: normal;
    }

    .my-card{
      box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
      max-width: 300px;
      max-height: 300px;
      display: inline-block;
    }

    .my-container{
      width: 90% !important;
    }


    `;
    article.innerHTML = `
        &lt;!--&lt;h1>Home Page&lt;/h1>-->
        
        &lt;!--ADD RECIPES HERE-->
        &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        &lt;!-- div for filling -->
        &lt;div class="filling">&lt;/div>

        &lt;div class="container-fluid my-container">
          &lt;div class="row justify-content-center d-flex align-items-center my-row ">
            &lt;div class="col my-col text-center align-items-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%">
                &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div class="col my-col text-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
              &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div class="col my-col text-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
              &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
          &lt;/div>
          &lt;div class="row justify-content-center d-flex align-items-center my-row ">
            &lt;div class="col my-col text-center align-items-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
                &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div class="col my-col text-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
              &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div class="col my-col text-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
              &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
          &lt;/div>
          &lt;div class="row justify-content-center d-flex align-items-center my-row ">
            &lt;div class="col my-col text-center align-items-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
                &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div class="col my-col text-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
              &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
            &lt;div class="col my-col text-center d-flex justify-content-center p-4">
              &lt;div class="card my-card" style="width: 75%;">
              &lt;img class="card-img-top" src="" alt="">
                &lt;div class="card-body">
                  &lt;h5 id="ExpRecipe" class="card-title align-items-center">&lt;/h5>
                &lt;/div>
              &lt;/div>
            &lt;/div>
          &lt;/div>
      
      &lt;/div>
        `;

    // Append elements to the shadow root
    this.shadowRoot.append(styles, article);

    router.addPage('recipe', function () {
      document.getElementById('#section--home').classList.remove('shown');
      document.getElementById('#section--search-bar').classList.remove('shown');

      document.getElementById('#section--recipe').classList.add('shown');
    });

    // Add random recipes to the card elements
    let cards = this.shadowRoot.querySelectorAll('.card');
    searchRandomRecipes(cards);
  }
}

customElements.define('home-page', HomePage);

/**
 * Searches for random recipes to populate the home page
 * {Array} resultsObject Array of recipe cards to add data to
 */
function searchRandomRecipes(resultsObject) {
  const searchReq = `type=searchRandom`;

  /**
   * Add data to the recipe cards after data is retrieved
   * @param {Object} data Contains all the random recipes
   */
  function afterSearch(data) {
    createRecipeCards(data, resultsObject);
  }

  GET(searchReq, afterSearch);
}

/**
 * Adds data to the recipe cards
 * @param {Objects} results The random recipes retrieved from spoonacular
 * @param {Object} section The array of recipe cards to add data to
 */
function createRecipeCards(results, section) {
  // Go through every one of the result recipes
  Object.keys(results).forEach(function (key) {
    const data = results[key];
    // Add recipe title
    section[key].querySelector('h5').innerHTML = data.title;

    // Add recipe picture
    //image.classList.add('css-image');
    section[key].querySelector('img').setAttribute('src', data.image);
    section[key].querySelector('img').setAttribute('alt', data.title);

    // Add the corresponding expand recipe view to router
    addPage(data);

    // Open up recipe when you click on its card
    section[key].addEventListener('click', () => {
      let recipeView = document.getElementById('#section--recipe');
      while (recipeView.firstChild) {
        recipeView.removeChild(recipeView.firstChild);
      }
      router.navigate(`recipe_${data.id}`);
    });
  });
}

/**
 * Attaches an expanded recipe view to the card so that when you click on it
 * you can see the full recipe
 * @param {Object} data The data to give to the recipe card so that when it
 * opens up the expanded view has data to populate it
 */
function addPage(data) {
  router.addPage(`recipe_${data.id}`, function () {
    document.getElementById('#section--home').classList.remove('shown');
    document.getElementById('#section--search-bar').classList.remove('shown');
    document.getElementById('#section--grocery').classList.remove('shown');
    document.getElementById('#section--cooking-mode').classList.remove('shown');

    document.getElementById('#section--recipe').classList.add('shown');

    // Fetch and populate recipe page and add to recipe section
    const recipePage = document.createElement('recipe-page');
    //fetchRecipe(recipeId, recipePage);
    let outerData = { recipe: data };
    recipePage.data = outerData;
    recipePage.classList.add('shown');
    document.getElementById('#section--recipe').innerHTML = '';
    document.getElementById('#section--recipe').appendChild(recipePage);
  });
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Fri Dec 10 2021 16:31:05 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
